(()=>{var e={id:931,ids:[931]};e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1309:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c});n(908),n(6302),n(5866);var r=n(3191),s=n(8716),a=n(7922),o=n.n(a),i=n(5231),l={};for(const h in i)["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(h)<0&&(l[h]=()=>i[h]);n.d(t,l);const c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,908)),"/Users/johnpolison/first-chatbot/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,6302)),"/Users/johnpolison/first-chatbot/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/johnpolison/first-chatbot/app/page.tsx"],m="/page",u={require:n,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5495:(e,t,n)=>{Promise.resolve().then(n.bind(n,3823)),Promise.resolve().then(n.bind(n,7871))},6849:(e,t,n)=>{Promise.resolve().then(n.bind(n,5096))},2489:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,2994,23)),Promise.resolve().then(n.t.bind(n,6114,23)),Promise.resolve().then(n.t.bind(n,9727,23)),Promise.resolve().then(n.t.bind(n,9671,23)),Promise.resolve().then(n.t.bind(n,1868,23)),Promise.resolve().then(n.t.bind(n,4759,23))},3823:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});var r=n(326),s=n(7109);function a({children:e}){return(0,r.jsx)(s.SessionProvider,{children:e})}},5096:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>G});var r=n(326),s=n(7577);function a({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const o=s.forwardRef(a);function i({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const l=s.forwardRef(i);function c({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const d=s.forwardRef(c);function m({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const u=s.forwardRef(m);function p({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const h=s.forwardRef(p);function g({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}))}const x=s.forwardRef(g),f=e=>{let t;const n=new Set,r=(e,r)=>{const s="function"===typeof e?e(t):e;if(!Object.is(s,t)){const e=t;t=(null!=r?r:"object"!==typeof s||null===s)?s:Object.assign({},t,s),n.forEach((n=>n(t,e)))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,s,a);return a},b=e=>e;const y=e=>{const t=(e=>e?f(e):f)(e),n=e=>function(e,t=b){const n=s.useSyncExternalStore(e.subscribe,(()=>t(e.getState())),(()=>t(e.getInitialState())));return s.useDebugValue(n),n}(t,e);return Object.assign(n,t),n};function w(e,t){let n;try{n=e()}catch(r){return}return{getItem:e=>{var r;const s=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),a=null!=(r=n.getItem(e))?r:null;return a instanceof Promise?a.then(s):s(a)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)}}const v=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>v(e)(n),catch(e){return this}}}catch(n){return{then(e){return this},catch:e=>v(e)(n)}}},j=(e,t)=>(n,r,s)=>{let a={storage:w((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1;const i=new Set,l=new Set;let c=a.storage;if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...e)}),r,s);const d=()=>{const e=a.partialize({...r()});return c.setItem(a.name,{state:e,version:a.version})},m=s.setState;s.setState=(e,t)=>{m(e,t),d()};const u=e(((...e)=>{n(...e),d()}),r,s);let p;s.getInitialState=()=>u;const h=()=>{var e,t;if(!c)return;o=!1,i.forEach((e=>{var t;return e(null!=(t=r())?t:u)}));const s=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=r())?e:u))||void 0;return v(c.getItem.bind(c))(a.name).then((e=>{if(e){if("number"!==typeof e.version||e.version===a.version)return[!1,e.state];if(a.migrate){const t=a.migrate(e.state,e.version);return t instanceof Promise?t.then((e=>[!0,e])):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((e=>{var t;const[s,o]=e;if(p=a.merge(o,null!=(t=r())?t:u),n(p,!0),s)return d()})).then((()=>{null==s||s(p,void 0),p=r(),o=!0,l.forEach((e=>e(p)))})).catch((e=>{null==s||s(void 0,e)}))};return s.persist={setOptions:e=>{a={...a,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:e=>(i.add(e),()=>{i.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},a.skipHydration||h(),p||u},N={createSession:async(e,t)=>(await fetch("/api/chat-sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,userId:t})})).json(),getSessions:async e=>(await fetch(`/api/chat-sessions?userId=${e}`)).json(),async deleteSession(e){await fetch(`/api/chat-sessions/${e}`,{method:"DELETE"})},async addMessage(e,t){await fetch(`/api/chat-sessions/${e}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},async updateSession(e,t){await fetch(`/api/chat-sessions/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t})})}},k=(S?y(S):y)(j(((e,t)=>({sessions:[],currentSessionId:null,isLoading:!1,currentUser:null,isGuest:!1,createSession:async()=>{const n=t();if(!n.currentUser)throw new Error("User not authenticated");const r=`session-${Date.now()}`,s="\u65b0\u3057\u3044\u30c1\u30e3\u30c3\u30c8",a={id:r,title:s,messages:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};e((e=>({sessions:[a,...e.sessions],currentSessionId:r})));try{const t=await N.createSession(s,n.currentUser.id);return e((e=>({sessions:e.sessions.map((e=>e.id===r?{...e,id:t.id}:e)),currentSessionId:t.id}))),t.id}catch(o){return r}},selectSession:t=>{e({currentSessionId:t})},deleteSession:async t=>{e((e=>({sessions:e.sessions.filter((e=>e.id!==t)),currentSessionId:e.currentSessionId===t?null:e.currentSessionId})));try{await N.deleteSession(t)}catch(n){}},addMessage:async(t,n)=>{const r=(new Date).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}),s={...n,timestamp:r};e((e=>({sessions:e.sessions.map((e=>{if(e.id===t){const t=[...e.messages||[],s];let a=e.title;return 0===(e.messages||[]).length&&"user"===n.role&&(a=((r=n.content).length>30?r.substring(0,30)+"...":r)||"\u65b0\u3057\u3044\u30c1\u30e3\u30c3\u30c8"),{...e,messages:t,title:a,updatedAt:(new Date).toISOString()}}var r;return e}))})));try{await N.addMessage(t,s)}catch(a){}},updateMessage:(t,n,r)=>{e((e=>({sessions:e.sessions.map((e=>{if(e.id===t){const t=e.messages.map(((e,t)=>t===n?{...e,content:r,timestamp:(new Date).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})}:e));return{...e,messages:t,updatedAt:(new Date).toISOString()}}return e}))})))},updateSessionTitle:async(t,n)=>{e((e=>({sessions:e.sessions.map((e=>e.id===t?{...e,title:n,updatedAt:(new Date).toISOString()}:e))})));try{await N.updateSession(t,n)}catch(r){}},getCurrentSession:()=>{const e=t();return e.sessions.find((t=>t.id===e.currentSessionId))||null},clearSessions:()=>{e({sessions:[],currentSessionId:null})},setLoading:t=>{e({isLoading:t})},loadSessions:async()=>{const n=t();if(n.currentUser)try{const t=(await N.getSessions(n.currentUser.id)).map((e=>({...e,messages:e.messages||[]})));e({sessions:t})}catch(r){}},setUser:t=>{e({currentUser:t})},createGuestUser:async()=>{try{const t=await fetch("/api/users/guest",{method:"POST"}),n=t.headers.get("content-type");if(!n||!n.includes("application/json")){await t.text();throw new Error("\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u306e\u5fdc\u7b54\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093")}const r=await t.json();if(t.ok&&r.success)return e({currentUser:r.user,isGuest:!0}),r.user;throw new Error(r.error||r.details||"\u30b2\u30b9\u30c8\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}catch(t){throw t}},setGuest:t=>{e({isGuest:t})}})),{name:"chat-sessions",partialize:e=>({sessions:e.sessions.map((e=>({...e,messages:(e.messages||[]).map((e=>({...e,imageBase64:void 0,imagePreview:void 0})))}))),currentSessionId:e.currentSessionId})}));var S;function E({selectedChatId:e,onChatSelect:t}){const[n,a]=(0,s.useState)(null),[o,i]=(0,s.useState)(!1),{sessions:l,createSession:c,selectSession:m,deleteSession:p,currentSessionId:g}=k(),f=o?l:[],b=e=>{const t=new Date(e),n=(new Date).getTime()-t.getTime(),r=Math.floor(n/6e4),s=Math.floor(n/36e5),a=Math.floor(n/864e5);return r<1?"\u305f\u3063\u305f\u4eca":r<60?`${r}\u5206\u524d`:s<24?`${s}\u6642\u9593\u524d`:a<7?`${a}\u65e5\u524d`:t.toLocaleDateString("ja-JP",{month:"short",day:"numeric"})},y=e=>{const t=f.find((t=>t.id===e));if(!t||!t.messages||0===t.messages.length)return"";const n=t.messages[t.messages.length-1];return n.content.length>50?n.content.substring(0,50)+"...":n.content};return(0,r.jsxs)("aside",{className:"w-64 bg-[#161B22] h-full flex flex-col border-r border-gray-700",children:[(0,r.jsx)("div",{className:"flex-shrink-0 p-4 border-b border-gray-700",children:(0,r.jsxs)("button",{onClick:async()=>{const e=await c();m(e),t(e)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg bg-[#1E90FF] hover:bg-blue-600 text-white transition-colors font-medium",children:[(0,r.jsx)(d,{className:"h-4 w-4"}),"\u65b0\u898f\u30c1\u30e3\u30c3\u30c8"]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-thin p-2",children:0===f.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"\u307e\u3060\u30c1\u30e3\u30c3\u30c8\u304c\u3042\u308a\u307e\u305b\u3093"}),(0,r.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"\u65b0\u898f\u30c1\u30e3\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044"})]}):f.map((s=>(0,r.jsx)("div",{onClick:()=>{return e=s.id,m(e),t(e),void a(null);var e},className:"group cursor-pointer rounded-lg p-3 mb-2 transition-colors hover:bg-gray-700 relative "+(e===s.id?"bg-gray-700":""),children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(h,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-100 truncate",children:s.title}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),a(n===s.id?null:s.id)},className:"opacity-0 group-hover:opacity-100 transition-opacity",children:(0,r.jsx)(x,{className:"h-4 w-4 text-gray-400 hover:text-gray-300"})}),n===s.id&&(0,r.jsx)("div",{className:"absolute right-0 top-6 w-32 bg-[#161B22] border border-gray-600 rounded-lg shadow-lg z-10",children:(0,r.jsxs)("button",{onClick:n=>(async(n,r)=>{r.stopPropagation(),await p(n),a(null),e===n&&t(null)})(s.id,n),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-400 hover:bg-gray-700 rounded-lg transition-colors",children:[(0,r.jsx)(u,{className:"h-4 w-4"}),"\u524a\u9664"]})})]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-300 mt-1 truncate font-normal",children:y(s.id)}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-1 font-medium",children:b(s.updatedAt)})]})]})},s.id)))}),(0,r.jsx)("div",{className:"flex-shrink-0 p-4 border-t border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-700 transition-colors cursor-pointer",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-[#1E90FF] flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white text-sm font-medium",children:"U"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-white",children:"\u30e6\u30fc\u30b6\u30fc"}),(0,r.jsx)("p",{className:"text-xs text-gray-300 font-medium",children:"\u30aa\u30f3\u30e9\u30a4\u30f3"})]})]})})]})}function D({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const C=s.forwardRef(D);function I({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const F=s.forwardRef(I);function P({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))}const M=s.forwardRef(P);function L({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const B=s.forwardRef(L);function O({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{d:"M16.5 7.5h-9v9h9v-9Z"}),s.createElement("path",{fillRule:"evenodd",d:"M8.25 2.25A.75.75 0 0 1 9 3v.75h2.25V3a.75.75 0 0 1 1.5 0v.75H15V3a.75.75 0 0 1 1.5 0v.75h.75a3 3 0 0 1 3 3v.75H21A.75.75 0 0 1 21 9h-.75v2.25H21a.75.75 0 0 1 0 1.5h-.75V15H21a.75.75 0 0 1 0 1.5h-.75v.75a3 3 0 0 1-3 3h-.75V21a.75.75 0 0 1-1.5 0v-.75h-2.25V21a.75.75 0 0 1-1.5 0v-.75H9V21a.75.75 0 0 1-1.5 0v-.75h-.75a3 3 0 0 1-3-3v-.75H3A.75.75 0 0 1 3 15h.75v-2.25H3a.75.75 0 0 1 0-1.5h.75V9H3a.75.75 0 0 1 0-1.5h.75v-.75a3 3 0 0 1 3-3h.75V3a.75.75 0 0 1 .75-.75ZM6 6.75A.75.75 0 0 1 6.75 6h10.5a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V6.75Z",clipRule:"evenodd"}))}const A=s.forwardRef(O);function U({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const z=s.forwardRef(U);function R({chatId:e}){const[t,n]=(0,s.useState)(""),[a,i]=(0,s.useState)(!1),[l,c]=(0,s.useState)(null),[d,m]=(0,s.useState)(""),[u,p]=(0,s.useState)(!1),[h,g]=(0,s.useState)(null),[x,f]=(0,s.useState)(!1),[b,y]=(0,s.useState)(null),{getCurrentSession:w,addMessage:v,updateMessage:j,isLoading:N,setLoading:S}=k(),E=u?w():null,D=async e=>{if(e.type.startsWith("image/"))try{const t=await(e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{const e=r.result.split(",")[1];t(e)},r.onerror=n,r.readAsDataURL(e)})))(e),n=await(e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{const e=r.result;t(e)},r.onerror=n,r.readAsDataURL(e)})))(e);g({file:e,base64:t,preview:n,mimeType:e.type})}catch(t){alert("\u753b\u50cf\u306e\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}else alert("\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u53ef\u80fd\u3067\u3059")},I=()=>{g(null)},P=async()=>{if(!t.trim()||!E||a)return;const e={role:"user",content:t,imageBase64:h?.base64,imagePreview:h?.preview},r=t,s=h?.base64,o=h?.mimeType;n(""),i(!0),await v(E.id,e),h&&I();try{const e=E.messages.map((e=>({role:e.role,content:e.content}))),t=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:r,conversationHistory:e,imageBase64:s,imageMimeType:o})}),n=await t.json();if(!t.ok)throw new Error(n.error||"API\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f");const a={role:"assistant",content:n.message};await v(E.id,a)}catch(l){const e={role:"assistant",content:l instanceof Error?l.message:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002"};await v(E.id,e)}finally{i(!1)}},L=()=>{c(null),m("")},O=async()=>{if(E&&d.trim()&&null!==l){i(!0);try{j(E.id,l,d.trim());const e=E.messages.slice(0,l+1),t=e[l];e[l]={...t,content:d.trim()};const n=e.map((e=>({role:e.role,content:e.content}))),r=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:d.trim(),conversationHistory:n.slice(0,-1),imageBase64:t.imageBase64,imageMimeType:"image/jpeg"})}),s=await r.json();if(!r.ok)throw new Error(s.error||"API\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f");const a={role:"assistant",content:s.message};await v(E.id,a),c(null),m("")}catch(e){const t={role:"assistant",content:e instanceof Error?e.message:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002"};await v(E.id,t)}finally{i(!1)}}};return E?(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)("div",{className:"flex-shrink-0 border-b border-gray-700 p-4",children:(0,r.jsx)("h1",{className:"text-lg font-semibold text-white text-center md:text-left",children:E.title})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-thin px-4 sm:px-6 md:px-4 py-4",children:0===E.messages.length?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-gray-300 text-sm sm:text-base font-medium",children:"\u307e\u3060\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u6700\u521d\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[E.messages.map(((e,t)=>(0,r.jsxs)("div",{className:"flex gap-3 "+("user"===e.role?"justify-end":"justify-start"),children:["assistant"===e.role&&(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-[#1E90FF] flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(A,{className:"w-5 h-5 text-white"})}),l===t&&"user"===e.role?(0,r.jsxs)("div",{className:"max-w-[85%] sm:max-w-[75%] md:max-w-[70%] px-4 py-3 rounded-lg bg-gray-700 border-2 border-gray-500",children:[(0,r.jsx)("textarea",{value:d,onChange:e=>m(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),O())},className:"w-full bg-gray-600 text-white rounded-md px-3 py-2 text-sm sm:text-base font-normal leading-relaxed resize-none focus:outline-none focus:ring-2 focus:ring-[#1E90FF]",rows:3,style:{minHeight:"60px"},placeholder:"\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u7de8\u96c6\u3057\u3066\u304f\u3060\u3055\u3044..."}),(0,r.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,r.jsxs)("button",{onClick:L,disabled:a,className:"px-3 py-1 text-sm bg-gray-600 hover:bg-gray-500 text-white rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)(o,{className:"w-4 h-4 inline mr-1"}),"\u30ad\u30e3\u30f3\u30bb\u30eb"]}),(0,r.jsxs)("button",{onClick:O,disabled:a||!d.trim(),className:"px-3 py-1 text-sm bg-[#1E90FF] hover:bg-blue-600 text-white rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)(C,{className:"w-4 h-4 inline mr-1"}),"\u518d\u9001\u4fe1"]})]})]}):(0,r.jsxs)("div",{className:"max-w-[85%] sm:max-w-[75%] md:max-w-[70%] px-4 py-3 rounded-lg group relative "+("user"===e.role?"bg-[#1E90FF] text-white":"bg-[#161B22] text-white border border-gray-700"),children:["user"===e.role&&e.imagePreview&&(0,r.jsx)("div",{className:"mb-3",children:(0,r.jsx)("img",{src:e.imagePreview,alt:"\u9001\u4fe1\u3057\u305f\u753b\u50cf",className:"max-w-[200px] sm:max-w-[250px] max-h-24 sm:max-h-32 rounded-lg object-contain cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>y(e.imagePreview)})}),(0,r.jsx)("div",{className:"whitespace-pre-wrap break-words text-sm sm:text-base font-normal leading-relaxed",children:e.content}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs opacity-70 font-medium",children:[(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("user"===e.role?"bg-blue-900 text-blue-200":"bg-green-900 text-green-200"),children:"user"===e.role?"\u30e6\u30fc\u30b6\u30fc":"AI"}),(0,r.jsx)("span",{children:e.timestamp})]}),"user"===e.role&&!e.imagePreview&&(0,r.jsx)("button",{onClick:()=>{return n=t,r=e.content,c(n),void m(r);var n,r},disabled:a,className:"opacity-0 group-hover:opacity-100 transition-opacity ml-2 p-1 hover:bg-blue-600 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:(0,r.jsx)(F,{className:"w-3 h-3"})})]})]}),"user"===e.role&&(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(z,{className:"w-5 h-5 text-white"})})]},`${E.id}-${t}`))),a&&(0,r.jsxs)("div",{className:"flex gap-3 justify-start",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-[#1E90FF] flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(A,{className:"w-5 h-5 text-white"})}),(0,r.jsx)("div",{className:"max-w-[85%] sm:max-w-[75%] md:max-w-[70%] px-4 py-3 rounded-lg bg-[#161B22] text-white border border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex space-x-1",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-[#1E90FF] rounded-full animate-bounce"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-[#1E90FF] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,r.jsx)("div",{className:"w-2 h-2 bg-[#1E90FF] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"AI\u304c\u56de\u7b54\u3092\u751f\u6210\u4e2d..."})]})})]})]})}),(0,r.jsx)("div",{className:"flex-shrink-0 border-t border-gray-700 p-4 bg-[#0D1117]",children:(0,r.jsxs)("div",{className:"space-y-3",children:[h&&(0,r.jsxs)("div",{className:"relative inline-block",children:[(0,r.jsx)("img",{src:h.preview,alt:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u753b\u50cf",className:"max-w-full max-h-32 rounded-lg object-contain"}),(0,r.jsx)("button",{onClick:I,className:"absolute top-2 right-2 w-6 h-6 bg-red-500 hover:bg-red-600 rounded-full flex items-center justify-center text-white transition-colors",children:(0,r.jsx)(o,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"flex gap-3 items-end",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files;t&&t.length>0&&D(t[0])},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),(0,r.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-300 transition-colors cursor-pointer",children:(0,r.jsx)(M,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)("textarea",{value:t,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),P())},onDragOver:e=>{e.preventDefault(),f(!0)},onDragLeave:e=>{e.preventDefault(),f(!1)},onDrop:e=>{e.preventDefault(),f(!1);const t=e.dataTransfer.files;t.length>0&&D(t[0])},placeholder:"\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044...",className:"w-full px-4 py-3 bg-[#161B22] border rounded-lg text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-[#1E90FF] focus:border-transparent resize-none text-sm sm:text-base font-normal transition-colors "+(x?"border-[#1E90FF] bg-blue-900/10":"border-gray-600"),rows:1,style:{minHeight:"44px",maxHeight:"120px"}}),x&&(0,r.jsx)("div",{className:"absolute inset-0 border-2 border-[#1E90FF] border-dashed rounded-lg bg-blue-900/20 flex items-center justify-center pointer-events-none",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(B,{className:"w-8 h-8 mx-auto text-[#1E90FF] mb-1"}),(0,r.jsx)("p",{className:"text-sm text-[#1E90FF] font-medium",children:"\u753b\u50cf\u3092\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u304f\u3060\u3055\u3044"})]})})]}),(0,r.jsx)("button",{onClick:P,disabled:!t.trim()||a,className:"p-2 text-[#1E90FF] hover:text-blue-400 disabled:text-gray-500 disabled:cursor-not-allowed transition-colors",children:(0,r.jsx)(C,{className:"w-5 h-5"})})]})]})}),b&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>y(null),children:(0,r.jsxs)("div",{className:"relative max-w-4xl max-h-full",children:[(0,r.jsx)("img",{src:b,alt:"\u62e1\u5927\u753b\u50cf",className:"max-w-full max-h-full object-contain rounded-lg",onClick:e=>e.stopPropagation()}),(0,r.jsx)("button",{onClick:()=>y(null),className:"absolute top-4 right-4 w-8 h-8 bg-black bg-opacity-50 hover:bg-opacity-75 rounded-full flex items-center justify-center text-white transition-all",children:(0,r.jsx)(o,{className:"w-5 h-5"})})]})})]}):(0,r.jsx)("div",{className:"flex flex-col items-center justify-center h-full px-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-[#161B22] rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(A,{className:"w-8 h-8 text-[#1E90FF]"})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"\u30c1\u30e3\u30c3\u30c8\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}),(0,r.jsxs)("p",{className:"text-gray-300 text-sm sm:text-base font-medium",children:[(0,r.jsx)("span",{className:"hidden md:inline",children:"\u5de6\u5074\u306e\u30b5\u30a4\u30c9\u30d0\u30fc\u304b\u3089\u4f1a\u8a71\u3092\u9078\u629e\u3059\u308b\u304b\u3001"}),"\u65b0\u898f\u30c1\u30e3\u30c3\u30c8\u3092\u958b\u59cb\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]})]})})}var T=n(7109);function _({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const H=s.forwardRef(_);function $({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const J=s.forwardRef($);function Z({children:e}){const{data:t,status:n}=(0,T.useSession)(),[a,o]=(0,s.useState)(!0),{currentUser:i,isGuest:l,setUser:c,createGuestUser:d,setGuest:m,loadSessions:u}=k();return a||"loading"===n?(0,r.jsx)("div",{className:"flex h-screen bg-[#0D1117] text-white items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E90FF] mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-300 font-medium",children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."})]})}):t?.user||l&&i?(0,r.jsx)(r.Fragment,{children:e}):(0,r.jsx)("div",{className:"flex h-screen bg-[#0D1117] text-white",children:(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"max-w-md w-full mx-4",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-[#1E90FF] rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(H,{className:"w-8 h-8 text-white"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"chatbot"}),(0,r.jsx)("p",{className:"text-gray-300",children:"\u30ed\u30b0\u30a4\u30f3\u307e\u305f\u306f\u30b2\u30b9\u30c8\u30e2\u30fc\u30c9\u3067\u30c1\u30e3\u30c3\u30c8\u3092\u59cb\u3081\u307e\u3057\u3087\u3046"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("button",{onClick:async()=>{try{o(!0);const e=await d();localStorage.setItem("guestToken",e.guestToken),c(e),m(!0),await u(),o(!1)}catch(e){alert("\u30b2\u30b9\u30c8\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f: "+(e instanceof Error?e.message:"\u4e0d\u660e\u306a\u30a8\u30e9\u30fc")),o(!1)}},className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-[#1E90FF] hover:bg-blue-600 text-white rounded-lg transition-colors font-medium",children:[(0,r.jsx)(J,{className:"w-5 h-5"}),"\u30b2\u30b9\u30c8\u3068\u3057\u3066\u59cb\u3081\u308b"]}),(0,r.jsxs)("button",{disabled:!0,className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-gray-600 text-gray-400 rounded-lg cursor-not-allowed font-medium",children:[(0,r.jsx)(H,{className:"w-5 h-5"}),"\u30ed\u30b0\u30a4\u30f3\uff08\u6e96\u5099\u4e2d\uff09"]})]}),(0,r.jsx)("div",{className:"mt-8 text-center",children:(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"\u30b2\u30b9\u30c8\u30e2\u30fc\u30c9\u3067\u306f\u3001\u30c7\u30fc\u30bf\u306f\u30d6\u30e9\u30a6\u30b6\u306b\u4e00\u6642\u7684\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059"})})]})})})}function G(){const[e,t]=(0,s.useState)(!1),[n,a]=(0,s.useState)(!1),{currentSessionId:i,selectSession:c}=k(),d=e?i:null;return(0,r.jsx)(Z,{children:(0,r.jsxs)("div",{className:"flex h-screen bg-[#0D1117] text-white overflow-hidden",children:[(0,r.jsx)("button",{onClick:()=>{a(!n)},className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-sidebar rounded-lg border border-theme hover:bg-gray-700 transition-colors",style:{backgroundColor:"#161B22",borderColor:"#30363D"},children:n?(0,r.jsx)(o,{className:"w-6 h-6 text-light-theme",style:{color:"#C9D1D9"}}):(0,r.jsx)(l,{className:"w-6 h-6 text-light-theme",style:{color:"#C9D1D9"}})}),n&&(0,r.jsx)("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>{a(!1)}}),(0,r.jsx)("div",{className:(n?"translate-x-0":"-translate-x-full")+" md:translate-x-0 fixed md:static inset-y-0 left-0 z-30 w-64 transition-transform duration-300 ease-in-out",children:(0,r.jsx)(E,{selectedChatId:d,onChatSelect:e=>{e&&c(e),a(!1)}})}),(0,r.jsx)("main",{className:"flex-1 flex flex-col min-w-0",children:(0,r.jsx)(R,{chatId:d})})]})})}},7871:(e,t,n)=>{"use strict";n.d(t,{InlineStyles:()=>s});var r=n(7577);const s=()=>((0,r.useEffect)((()=>{const e=()=>{document.querySelectorAll("style[data-force-css]").forEach((e=>e.remove()));const e=document.createElement("style");e.setAttribute("data-force-css","true"),e.textContent="\n      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Noto+Sans+JP:wght@400;500;600&display=swap');\n\n      * {\n        box-sizing: border-box;\n        margin: 0;\n        padding: 0;\n      }\n\n      html,\n      body {\n        background-color: #0D1117 !important;\n        color: #C9D1D9 !important;\n        font-family: 'Inter', 'Noto Sans JP', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;\n        font-weight: 400;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        height: 100%;\n        overflow: hidden;\n      }\n\n      #__next {\n        height: 100vh;\n        background-color: #0D1117 !important;\n      }\n\n      /* Flexbox utilities */\n      .flex { display: flex !important; }\n      .flex-1 { flex: 1 1 0% !important; }\n      .flex-col { flex-direction: column !important; }\n      .items-center { align-items: center !important; }\n      .justify-center { justify-content: center !important; }\n      .justify-between { justify-content: space-between !important; }\n\n      /* Spacing */\n      .h-screen { height: 100vh !important; }\n      .h-full { height: 100% !important; }\n      .w-full { width: 100% !important; }\n      .w-64 { width: 16rem !important; }\n      .min-w-0 { min-width: 0px !important; }\n      .p-2 { padding: 0.5rem !important; }\n      .p-4 { padding: 1rem !important; }\n      .px-4 { padding-left: 1rem; padding-right: 1rem !important; }\n      .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem !important; }\n      .mb-4 { margin-bottom: 1rem !important; }\n      .ml-2 { margin-left: 0.5rem !important; }\n\n      /* Colors */\n      .bg-dark-theme { background-color: #0D1117 !important; }\n      .bg-sidebar { background-color: #161B22 !important; }\n      .bg-gray-700 { background-color: #374151 !important; }\n      .bg-gray-800 { background-color: #1F2937 !important; }\n      .bg-blue-600 { background-color: #2563EB !important; }\n      .text-light-theme { color: #C9D1D9 !important; }\n      .text-white { color: #FFFFFF !important; }\n      .text-gray-400 { color: #9CA3AF !important; }\n\n      /* Borders */\n      .border { border-width: 1px !important; }\n      .border-theme { border-color: #30363D !important; }\n      .border-gray-600 { border-color: #4B5563 !important; }\n      .border-gray-700 { border-color: #374151 !important; }\n      .rounded { border-radius: 0.25rem !important; }\n      .rounded-lg { border-radius: 0.5rem !important; }\n\n      /* Positioning */\n      .fixed { position: fixed !important; }\n      .relative { position: relative !important; }\n      .absolute { position: absolute !important; }\n      .inset-0 { top: 0; right: 0; bottom: 0; left: 0 !important; }\n      .inset-y-0 { top: 0; bottom: 0 !important; }\n      .top-4 { top: 1rem !important; }\n      .left-4 { left: 1rem !important; }\n      .z-30 { z-index: 30 !important; }\n      .z-40 { z-index: 40 !important; }\n      .z-50 { z-index: 50 !important; }\n\n      /* Transform */\n      .translate-x-0 { transform: translateX(0px) !important; }\n      .-translate-x-full { transform: translateX(-100%) !important; }\n      .transition-transform { transition-property: transform !important; }\n      .transition-colors { transition-property: color, background-color, border-color !important; }\n      .duration-300 { transition-duration: 300ms !important; }\n      .ease-in-out { transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important; }\n\n      /* Display */\n      .block { display: block !important; }\n      .hidden { display: none !important; }\n      .overflow-hidden { overflow: hidden !important; }\n      .overflow-y-auto { overflow-y: auto !important; }\n\n      /* Hover effects */\n      .hover\\:bg-gray-700:hover { background-color: #374151 !important; }\n      .hover\\:bg-blue-700:hover { background-color: #1D4ED8 !important; }\n\n      /* Focus effects */\n      .focus\\:outline-none:focus { outline: 2px solid transparent; outline-offset: 2px !important; }\n      .focus\\:ring-2:focus { box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5) !important; }\n\n      /* Icon sizing */\n      .w-6 { width: 1.5rem !important; }\n      .h-6 { height: 1.5rem !important; }\n\n      /* Responsive design */\n      @media (min-width: 768px) {\n        .md\\:hidden { display: none !important; }\n        .md\\:translate-x-0 { transform: translateX(0px) !important; }\n        .md\\:static { position: static !important; }\n      }\n\n      /* Scrollbar */\n      .scrollbar-thin {\n        scrollbar-width: thin;\n        scrollbar-color: #484F58 #21262D;\n      }\n\n      .scrollbar-thin::-webkit-scrollbar {\n        width: 8px;\n        height: 8px;\n      }\n\n      .scrollbar-thin::-webkit-scrollbar-track {\n        background: #21262D;\n      }\n\n      .scrollbar-thin::-webkit-scrollbar-thumb {\n        background-color: #484F58;\n        border-radius: 4px;\n        border: 2px solid #21262D;\n      }\n\n      .scrollbar-thin::-webkit-scrollbar-thumb:hover {\n        background-color: #656D76;\n      }\n\n      /* Button specific styles */\n      button {\n        cursor: pointer;\n        border: none;\n        outline: none;\n      }\n\n      button:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n\n      /* Input specific styles */\n      input, textarea {\n        background-color: #21262D !important;\n        border: 1px solid #30363D !important;\n        color: #C9D1D9 !important;\n        border-radius: 0.5rem !important;\n        padding: 0.75rem !important;\n      }\n\n      input:focus, textarea:focus {\n        outline: none !important;\n        border-color: #2563EB !important;\n        box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2) !important;\n      }\n\n      /* Animation classes */\n      .animate-spin {\n        animation: spin 1s linear infinite;\n      }\n\n      @keyframes spin {\n        from { transform: rotate(0deg); }\n        to { transform: rotate(360deg); }\n      }\n\n      .animate-bounce {\n        animation: bounce 1s infinite;\n      }\n\n      @keyframes bounce {\n        0%, 100% {\n          transform: translateY(-25%);\n          animation-timing-function: cubic-bezier(0.8, 0, 1, 1);\n        }\n        50% {\n          transform: translateY(0);\n          animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n        }\n      }\n      ",document.head.appendChild(e),document.body.style.backgroundColor="#0D1117",document.body.style.color="#C9D1D9",document.body.style.fontFamily='Inter, "Noto Sans JP", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',document.body.style.margin="0",document.body.style.padding="0",document.body.style.height="100vh",document.body.style.overflow="hidden",document.documentElement.style.backgroundColor="#0D1117",document.documentElement.style.color="#C9D1D9",document.documentElement.style.height="100%";const t=document.getElementById("__next");t&&(t.style.backgroundColor="#0D1117",t.style.color="#C9D1D9",t.style.height="100vh")};e();const t=new MutationObserver(e);return t.observe(document.body,{childList:!0,subtree:!0}),setTimeout(e,1e3),()=>{t.disconnect()}}),[]),null)},6302:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h,metadata:()=>p});var r=n(9510),s=n(8570);const a=(0,s.createProxy)(String.raw`/Users/johnpolison/first-chatbot/app/components/SessionProvider.tsx`),{__esModule:o,$$typeof:i}=a,l=(a.default,(0,s.createProxy)(String.raw`/Users/johnpolison/first-chatbot/app/components/SessionProvider.tsx#default`)),c=(0,s.createProxy)(String.raw`/Users/johnpolison/first-chatbot/app/styles/inline-styles.tsx`),{__esModule:d,$$typeof:m}=c,u=(c.default,(0,s.createProxy)(String.raw`/Users/johnpolison/first-chatbot/app/styles/inline-styles.tsx#InlineStyles`));n(413);const p={title:"ChatGPT\u98a8\u30c1\u30e3\u30c3\u30c8\u30a2\u30d7\u30ea",description:"Next.js + TypeScript\u3067\u4f5c\u6210\u3057\u305fChatGPT\u98a8\u30c1\u30e3\u30c3\u30c8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3"};function h({children:e}){return(0,r.jsxs)("html",{lang:"ja",style:{backgroundColor:"#0D1117",color:"#C9D1D9",height:"100%",fontFamily:'Inter, "Noto Sans JP", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[(0,r.jsxs)("head",{children:[(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,r.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Noto+Sans+JP:wght@400;500;600&display=swap",rel:"stylesheet"}),(0,r.jsx)("script",{src:"/css-loader.js",defer:!0}),(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n    * {\n      box-sizing: border-box !important;\n      margin: 0 !important;\n      padding: 0 !important;\n    }\n    html, body {\n      background-color: #0D1117 !important;\n      color: #C9D1D9 !important;\n      font-family: 'Inter', 'Noto Sans JP', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;\n      height: 100% !important;\n      overflow: hidden !important;\n    }\n    #__next {\n      height: 100vh !important;\n      background-color: #0D1117 !important;\n    }\n    .flex { display: flex !important; }\n    .flex-1 { flex: 1 1 0% !important; }\n    .flex-col { flex-direction: column !important; }\n    .h-screen { height: 100vh !important; }\n    .h-full { height: 100% !important; }\n    .w-full { width: 100% !important; }\n    .w-64 { width: 16rem !important; }\n    .w-6 { width: 1.5rem !important; }\n    .h-6 { height: 1.5rem !important; }\n    .min-w-0 { min-width: 0px !important; }\n    .p-2 { padding: 0.5rem !important; }\n    .p-4 { padding: 1rem !important; }\n    .bg-dark-theme { background-color: #0D1117 !important; }\n    .bg-sidebar { background-color: #161B22 !important; }\n    .bg-gray-700 { background-color: #374151 !important; }\n    .bg-gray-800 { background-color: #1F2937 !important; }\n    .text-light-theme { color: #C9D1D9 !important; }\n    .text-white { color: #FFFFFF !important; }\n    .border { border-width: 1px !important; }\n    .border-theme { border-color: #30363D !important; }\n    .rounded { border-radius: 0.25rem !important; }\n    .rounded-lg { border-radius: 0.5rem !important; }\n    .fixed { position: fixed !important; }\n    .relative { position: relative !important; }\n    .top-4 { top: 1rem !important; }\n    .left-4 { left: 1rem !important; }\n    .z-30 { z-index: 30 !important; }\n    .z-40 { z-index: 40 !important; }\n    .z-50 { z-index: 50 !important; }\n    .inset-y-0 { top: 0; bottom: 0 !important; }\n    .translate-x-0 { transform: translateX(0px) !important; }\n    .-translate-x-full { transform: translateX(-100%) !important; }\n    .transition-transform { transition-property: transform !important; }\n    .transition-colors { transition-property: color, background-color, border-color !important; }\n    .duration-300 { transition-duration: 300ms !important; }\n    .ease-in-out { transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important; }\n    .overflow-hidden { overflow: hidden !important; }\n    .hover\\:bg-gray-700:hover { background-color: #374151 !important; }\n    @media (min-width: 768px) {\n      .md\\:hidden { display: none !important; }\n      .md\\:translate-x-0 { transform: translateX(0px) !important; }\n      .md\\:static { position: static !important; }\n    }\n  "}})]}),(0,r.jsxs)("body",{style:{backgroundColor:"#0D1117",color:"#C9D1D9",fontFamily:'Inter, "Noto Sans JP", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',height:"100vh",margin:0,padding:0,overflow:"hidden"},children:[(0,r.jsx)(u,{}),(0,r.jsx)(l,{children:(0,r.jsx)("div",{style:{backgroundColor:"#0D1117",color:"#C9D1D9",height:"100vh",fontFamily:'Inter, "Noto Sans JP", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:e})})]})]})}},908:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>i});var r=n(8570);const s=(0,r.createProxy)(String.raw`/Users/johnpolison/first-chatbot/app/page.tsx`),{__esModule:a,$$typeof:o}=s,i=(s.default,(0,r.createProxy)(String.raw`/Users/johnpolison/first-chatbot/app/page.tsx#default`))},413:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var n=t.X(0,[948,159],(()=>{return e=1309,t(t.s=e);var e}));module.exports=n})();